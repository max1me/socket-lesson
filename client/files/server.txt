Сервер
Сервер не разрывает соединение с клиентом по своей инициативе.
Соединение с клиентом разрывается, если клиент перестал отвечать.
Сервер принимает сообщения от клиентов и рассылает их по всем активным соединениям.
Каждое соединение клиент-сервер должно обрабатываться в отдельном потоке.
Активные соединения хранить в потокобезопасной коллекции или мапе.
Если клиент присылает файл и он удовлетворяет всем требованиям, сервер сохраняет его и рассылает остальным клиентам информацию о том, что загружен новый файл. Сервер рассылает название файла + описание содержимого.
Если клиент запрашивает файл, сервер сначала присылает список имен файлов, потом содержимое выбранного из списка файла.